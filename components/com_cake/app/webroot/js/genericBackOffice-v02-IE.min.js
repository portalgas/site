/*
 * eliminato 
 * 	use strict
 * 	$.datepicker.setDefaults($.datepicker.regional.it)
 */
function My(){if(!(this instanceof My))throw new TypeError("My constructor cannot be called as a function.");this.init()}function setExportDocsParameters(e){var t="",a="",n="",r="",i="",o="",l="",s="",c="",p="";return"to-users-all-modify"==e?$("input[name='trasportAndCost1']").length>0&&(a=$("input[name='trasportAndCost1']:checked").val()):"to-users"==e?(a=$("input[name='user_phone1']:checked").val(),n=$("input[name='user_email1']:checked").val(),r=$("input[name='user_address1']:checked").val(),i=$("input[name='totale_per_utente']:checked").val(),o=$("input[name='trasportAndCost2']").length>0?$("input[name='trasportAndCost2']:checked").val():"N",l=$("input[name='user_avatar1']:checked").val(),s=$("input[name='dettaglio_per_utente']:checked").val(),c=$("input[name='note1']:checked").val(),p=$("input[name='delete_to_referent1']:checked").val()):"to-users-label"==e?(a=$("input[name='user_phone']:checked").val(),n=$("input[name='user_email']:checked").val(),r=$("input[name='user_address']:checked").val(),i=$("input[name='trasportAndCost3']").length>0?$("input[name='trasportAndCost3']:checked").val():"N",o=$("input[name='user_avatar2']:checked").val(),l=$("input[name='delete_to_referent2']:checked").val()):"to-articles"==e?(a=$("input[name='trasportAndCost4']").length>0?$("input[name='trasportAndCost4']:checked").val():"N",n=$("input[name='codice2']:checked").val(),n=$("input[name='codice2']:checked").val(),r=$("input[name='pezzi_confezione1']").length>0?$("input[name='pezzi_confezione1']:checked").val():"N"):"to-articles-details"==e?(a=$("input[name='acquistato_il']:checked").val(),n=$("input[name='article_img']").length>0?$("input[name='article_img']:checked").val():"N",r=$("input[name='trasportAndCost5']").length>0?$("input[name='trasportAndCost5']:checked").val():"N",i=$("input[name='totale_per_articolo']:checked").val(),o=$("input[name='codice1']:checked").val()):"des-referent-to-supplier"==e?(a=$("input[name='codice1']:checked").val(),n="",r="",i="",o="",l="",s="",c="",p=""):"des-referent-to-supplier-monitoring"==e?(a=$("input[name='codice5']:checked").val(),n="",r="",i="",o="",l="",s="",c="",p=""):"des-referent-to-supplier-details"==e?(a=$("input[name='codice2']:checked").val(),n="",r="",i="",o="",l="",s="",c="",p=""):"des-referent-to-supplier-split-org"==e?(a=$("input[name='codice3']:checked").val(),n="",r="",i="",o="",l="",s="",c="",p=""):"des-referent-to-supplier-split-org-monitoring"==e&&(a=$("input[name='codice4']:checked").val(),n="",r="",i="",o="",l="",s="",c="",p=""),t="a="+a+"&b="+n+"&c="+r+"&d="+i+"&e="+o+"&f="+l+"&g="+s+"&h="+c+"&i="+p}function setArticlePrezzoUmRiferimento(e,t){var a=!1;$(".prezzo_um_riferimento").html("");var n=numberToJs($("#qta").val()),r=numberToJs($("#prezzo").val());if((null==e||""==e)&&(e=$("#um").val()),(null==t||""==t)&&(t=e),""!=n&&""!=r&&null!=e){a&&console.log("qta "+n+" - prezzo "+r+" - um "+e+" um_riferimento "+t);var i=r/n;a&&console.log("prezzo_um_riferimento (prezzo/qta) "+i);var o="";"PZ"==e?o+='<input class="nospace" checked="checked" type="radio" value="PZ" id="ArticleUmRiferimentoPZ" name="data[Article][um_riferimento]">&nbsp;&nbsp;<label class="nospace" for="ArticleUmRiferimentoPZ">'+number_format(i,2,",",".")+"&nbsp;&euro;&nbsp;al&nbsp;Pezzo</label>":"KG"==e?(o+='<input class="nospace" type="radio" ',o+="GR"==t?'checked="checked" ':" ",o+='value="GR" id="ArticleUmRiferimentoGR" name="data[Article][um_riferimento]">&nbsp;&nbsp;<label class="nospace" for="ArticleUmRiferimentoGR">'+number_format(i/1e3,2,",",".")+"&nbsp;&euro;&nbsp;al&nbsp;Grammo</label></br>",o+='<input class="nospace" type="radio" ',o+="HG"==t?'checked="checked" ':" ",o+='value="HG" id="ArticleUmRiferimentoHG" name="data[Article][um_riferimento]">&nbsp;&nbsp;<label class="nospace" for="ArticleUmRiferimentoHG">'+number_format(i/100,2,",",".")+"&nbsp;&euro;&nbsp;al&nbsp;Ettogrammo</label></br>",o+='<input class="nospace" type="radio" ',o+="KG"==t?'checked="checked" ':" ",o+='value="KG" id="ArticleUmRiferimentoKG" name="data[Article][um_riferimento]">&nbsp;&nbsp;<label class="nospace" for="ArticleUmRiferimentoKG">'+number_format(i,2,",",".")+"&nbsp;&euro;&nbsp;al&nbsp;Chilo</label></br>"):"HG"==e?(o+='<input class="nospace" type="radio" ',o+="GR"==t?'checked="checked" ':" ",o+='value="GR" id="ArticleUmRiferimentoGR" name="data[Article][um_riferimento]">&nbsp;&nbsp;<label class="nospace" for="ArticleUmRiferimentoGR">'+number_format(i/100,2,",",".")+"&nbsp;&euro;&nbsp;al&nbsp;Grammo</label></br>",o+='<input class="nospace" type="radio" ',o+="HG"==t?'checked="checked" ':" ",o+='value="HG" id="ArticleUmRiferimentoHG" name="data[Article][um_riferimento]">&nbsp;&nbsp;<label class="nospace" for="ArticleUmRiferimentoHG">'+number_format(i,2,",",".")+"&nbsp;&euro;&nbsp;al&nbsp;Ettogrammo</label></br>",o+='<input class="nospace" type="radio" ',o+="KG"==t?'checked="checked" ':" ",o+='value="KG" id="ArticleUmRiferimentoKG" name="data[Article][um_riferimento]">&nbsp;&nbsp;<label class="nospace" for="ArticleUmRiferimentoKG">'+number_format(10*i,2,",",".")+"&nbsp;&euro;&nbsp;al&nbsp;Chilo</label></br>"):"GR"==e?(o+='<input class="nospace" type="radio" ',o+="GR"==t?'checked="checked" ':" ",o+='value="GR" id="ArticleUmRiferimentoGR" name="data[Article][um_riferimento]">&nbsp;&nbsp;<label class="nospace" for="ArticleUmRiferimentoGR">'+number_format(i,2,",",".")+"&nbsp;&euro;&nbsp;al&nbsp;Grammo</label></br>",o+='<input class="nospace" type="radio" ',o+="HG"==t?'checked="checked" ':" ",o+='value="HG" id="ArticleUmRiferimentoHG" name="data[Article][um_riferimento]">&nbsp;&nbsp;<label class="nospace" for="ArticleUmRiferimentoHG">'+number_format(100*i,2,",",".")+"&nbsp;&euro;&nbsp;al&nbsp;Ettogrammo</label></br>",o+='<input class="nospace" type="radio" ',o+="KG"==t?'checked="checked" ':" ",o+='value="KG" id="ArticleUmRiferimentoKG" name="data[Article][um_riferimento]">&nbsp;&nbsp;<label class="nospace" for="ArticleUmRiferimentoKG">'+number_format(1e3*i,2,",",".")+"&nbsp;&euro;&nbsp;al&nbsp;Chilo</label></br>"):"LT"==e?(o+='<input class="nospace" type="radio" ',o+="ML"==t?'checked="checked" ':" ",o+='value="ML" id="ArticleUmRiferimentoML" name="data[Article][um_riferimento]">&nbsp;&nbsp;<label class="nospace" for="ArticleUmRiferimentoML">'+number_format(i/1e3,2,",",".")+"&nbsp;&euro;&nbsp;al&nbsp;Millilitro</label></br>",o+='<input class="nospace" type="radio" ',o+="DL"==t?'checked="checked" ':" ",o+='value="DL" id="ArticleUmRiferimentoDL" name="data[Article][um_riferimento]">&nbsp;&nbsp;<label class="nospace" for="ArticleUmRiferimentoDL">'+number_format(i/10,2,",",".")+"&nbsp;&euro;&nbsp;al&nbsp;Decilitro</label></br>",o+='<input class="nospace" type="radio" ',o+="LT"==t?'checked="checked" ':" ",o+='value="LT" id="ArticleUmRiferimentoLT" name="data[Article][um_riferimento]">&nbsp;&nbsp;<label class="nospace" for="ArticleUmRiferimentoLT">'+number_format(i,2,",",".")+"&nbsp;&euro;&nbsp;al&nbsp;Litro</label></br>"):"DL"==e?(o+='<input class="nospace" type="radio" ',o+="ML"==t?'checked="checked" ':" ",o+='value="ML" id="ArticleUmRiferimentoML" name="data[Article][um_riferimento]">&nbsp;&nbsp;<label class="nospace" for="ArticleUmRiferimentoML">'+number_format(i/100,2,",",".")+"&nbsp;&euro;&nbsp;al&nbsp;Millilitro</label></br>",o+='<input class="nospace" type="radio" ',o+="DL"==t?'checked="checked" ':" ",o+='value="DL" id="ArticleUmRiferimentoDL" name="data[Article][um_riferimento]">&nbsp;&nbsp;<label class="nospace" for="ArticleUmRiferimentoDL">'+number_format(i,2,",",".")+"&nbsp;&euro;&nbsp;al&nbsp;Decilitro</label></br>",o+='<input class="nospace" type="radio" ',o+="LT"==t?'checked="checked" ':" ",o+='value="LT" id="ArticleUmRiferimentoLT" name="data[Article][um_riferimento]">&nbsp;&nbsp;<label class="nospace" for="ArticleUmRiferimentoLT">'+number_format(10*i,2,",",".")+"&nbsp;&euro;&nbsp;al&nbsp;Litro</label></br>"):"ML"==e&&(o+='<input class="nospace" type="radio" ',o+="ML"==t?'checked="checked" ':" ",o+='value="ML" id="ArticleUmRiferimentoML" name="data[Article][um_riferimento]">&nbsp;&nbsp;<label class="nospace" for="ArticleUmRiferimentoML">'+number_format(i,2,",",".")+"&nbsp;&euro;&nbsp;al&nbsp;Millilitro</label></br>",o+='<input class="nospace" type="radio" ',o+="DL"==t?'checked="checked" ':" ",o+='value="DL" id="ArticleUmRiferimentoDL" name="data[Article][um_riferimento]">&nbsp;&nbsp;<label class="nospace" for="ArticleUmRiferimentoDL">'+number_format(100*i,2,",",".")+"&nbsp;&euro;&nbsp;al&nbsp;Decilitro</label></br>",o+='<input class="nospace" type="radio" ',o+="LT"==t?'checked="checked" ':" ",o+='value="LT" id="ArticleUmRiferimentoLT" name="data[Article][um_riferimento]">&nbsp;&nbsp;<label class="nospace" for="ArticleUmRiferimentoLT">'+number_format(1e3*i,2,",",".")+"&nbsp;&euro;&nbsp;al&nbsp;Litro</label></br>"),$(".prezzo_um_riferimento").html(o)}}function popolaArrayIdBox(){var e=new Array,t=0;return $("fieldset").children().each(function(){var a=$(this).attr("id");null!=a?(e[t]=a,t++):$(this).children().each(function(){var a=$(this).attr("id");null!=a&&(e[t]=a,t++)})}),e}function showHideBox(e,t){var a=!1,n=0;0==$("#"+e).length&&alert("Nella pagina il div con ID "+e+" non esiste");var r=popolaArrayIdBox(),i=new Array;for(a&&alert("arrayIdBox.length "+r.length),n=0;n<r.length;n++)a&&alert(n+" elimino i box precedenti al chiamante  "+r[n]+" = "+e),e==r[n]&&(i=r.splice(n+1,r.length));for(a&&alert("dopo aver eliminato i padri: arrayIdBoxNew.length "+i.length),n=0;n<i.length;n++)if(a&&alert(n+" tratto arrayIdBoxNew[i] "+i[n]),0==n&&t){$("#"+i[n]).css("display","block"),$("#"+i[n]).css("min-height","35px");var o="url("+app_img+"/ajax-loader.gif) no-repeat scroll center 0 transparent";$("#"+i[n]).css("background",o),$("#"+i[n]+" *> input[type=radio]").removeAttr("checked"),a&&alert(" lo attivo e parte ajax-loader "),$("#"+i[n]).css("background","none repeat scroll 0 0 transparent")}else $("#"+i[n]).css("background","none repeat scroll 0 0 transparent"),$("#"+i[n]).css("display","none"),$("#"+i[n]+" *> input[type=radio]").removeAttr("checked"),a&&alert(" lo nascondo")}function ajaxCallBox(e,t){var a='url("'+app_img+'/ajax-loader.gif") no-repeat scroll center 0 transparent';$("#"+t).html(""),$("#"+t).css("background",a),$.ajax({type:"get",url:e,data:"",cache:!1,success:function(e){$("#"+t).css("background","none repeat scroll 0 0 transparent"),$("#"+t).html(e)},error:function(e,a,n){$("#"+t).css("background","none repeat scroll 0 0 transparent"),$("#"+t).html(a)}})}My.prototype={constructor:My,bindEvents:function(){console.log("My bindEvents"),$(".collapse").on("shown.bs.collapse",function(){$(this).parent().find(".fa-plus").removeClass("fa-plus").addClass("fa-minus")}).on("hidden.bs.collapse",function(){$(this).parent().find(".fa-minus").removeClass("fa-minus").addClass("fa-plus")}),$(".ajax_details").on("hidden.bs.collapse",function(e){$(this).prev().find(".fa-search-minus").removeClass("fa-search-minus").addClass("fa-search-plus");var t=$(this).attr("data-attr-action"),a=t.split("-"),n=(a[0],a[1]);$("#ajax_details_content-"+n).html("")}).on("shown.bs.collapse",function(e){$(this).prev().find(".fa-search-plus").removeClass("fa-search-plus").addClass("fa-search-minus");var t=$(this).attr("data-attr-action"),a=t.split("-"),n=a[0],r=a[1];$("#ajax_details_content-"+r).html(""),$("#ajax_details_content-"+r).css("min-height","50px"),$("#ajax_details_content-"+r).css("background",'url("'+app_img+'/ajax-loader.gif") no-repeat scroll center 0 transparent');var i="";i=isBackoffice()?"/administrator/index.php?option=com_cake&controller=Ajax&action=view_"+n+"&id="+r+"&evidenzia=&format=notmpl":"/?option=com_cake&controller=Ajax&action=view_"+n+"&id="+r+"&evidenzia=&format=notmpl",$.ajax({type:"get",url:i,data:"",success:function(e){$("#ajax_details_content-"+r).css("background","none repeat scroll 0 0 transparent"),$("#ajax_details_content-"+r).html(e)},error:function(e,t,a){$("#ajax_details_content-"+r).css("background","none repeat scroll 0 0 transparent"),$("#ajax_details_content-"+r).html(t)}})}),$(".btn-menu").click(function(e){e.preventDefault();var t=$(this).attr("data-attr-url"),a=$(this).attr("data-attr-header"),n=$(this).attr("data-attr-size"),r=new Array;r={header:a,size:n},"undefined"==typeof t||""==t?console.log("error - url undefined!"):apriPopUpBootstrap(t,r)}),$("form").on("reset",function(e){$(".selectpicker",this).each(function(e,t){var a=$(this);setTimeout(function(){a.selectpicker("val",a.val())},0)})}),$(".double").focusout(function(){setNumberFormat(this)}),$(".double").focus(function(){$(this).select()}),$(".onFocusAllSelect").focus(function(){$(this).select()}),$(".blank").attr("target","_blank"),CKEDITOR.stylesSet.add("my_styles",[{name:"Titolo",element:"h2",styles:{}},{name:"Sotto-titolo",element:"h3",styles:{}},{name:"MyStyle",element:"span",attributes:{"class":"my_style"}},{name:"Rosso",element:"span",styles:{"background-color":"red"}}]);var e={filebrowserWindowWidth:"100%",filebrowserWindowHeight:"100%",toolbar:"MyToolBar",enterMode:CKEDITOR.ENTER_BR,shiftEnterMode:CKEDITOR.ENTER_P,stylesSet:"my_styles"};$("textarea[class!='noeditor form-control']").ckeditor(e),$(".filter").show("low"),$(".actionTrView").css("display","inline-block"),$(".actionNotaView").css("display","inline-block"),$(".actionTrView").each(function(){actionTrView(this)}),$(".actionTrConfig").css("display","inline-block"),$(".actionTrConfig").each(function(){actionTrConfig(this)}),$(".actionNotaView").each(function(){actionNotaView(this)}),$(".cakeContainer form").each(function(){if("get"==$(this).attr("method")){var e=$(location).attr("href");if(null!=e&&e.indexOf("?")>0){e=e.substring(e.indexOf("?")+1,e.length);var t=e.split("&");for(var a in t)if(t.hasOwnProperty(a)&&-1==t[a].indexOf("Filter")&&-1==t[a].indexOf("_method")){var n=t[a].split("=");$("<input>").attr({type:"hidden",id:n[0],name:n[0],value:n[1]}).appendTo(this)}}}}),$("body").append('<div id="scroll_to_top"><a href="#top">Torna su</a></div>'),$("#scroll_to_top a").css({display:"none","z-index":"9",position:"fixed",top:"100%",width:"110px","margin-top":"-30px",right:"50%","margin-left":"-50px",height:"20px",padding:"3px 5px","font-size":"14px","text-align":"center",padding:"3px",color:"#FFFFFF","background-color":"#625043","-moz-border-radius":"5px","-khtml-border-radius":"5px","-webkit-border-radius":"5px",opacity:".8","text-decoration":"none"}),$("#scroll_to_top a").click(function(){$("html, body").animate({scrollTop:0},"slow")}),$("#help").mouseenter(function(){$(this).animate({right:"-15px"},500)}),$("#help").mouseleave(function(){$(this).animate({right:"-100px"},500)}),$(".logo").click(function(){var e="/administrator/index.php?option=com_cake&controller=Manuals&action=index";window.location.href=e});var t,a=!1,n=$(document.body).children(0).position().top;$(window).scroll(function(){window.clearTimeout(t),t=window.setTimeout(function(){$(window).scrollTop()<=n?(a=!1,$("#scroll_to_top a").fadeOut(500)):0==a&&(a=!0,$("#scroll_to_top a").stop(!0,!0).show().click(function(){$("#scroll_to_top a").fadeOut(500)}))},100)}),$(".navbar-toggler").on("click",function(e){e.preventDefault(),$(this).closest(".navbar-minimal").toggleClass("open")})},number_format:function(e,t,a,n){var r=e,i=isNaN(t=Math.abs(t))?2:t,o=void 0==a?".":a,l=void 0==n?",":n,s=0>r?"-":"",c=parseInt(r=Math.abs(+r||0).toFixed(i))+"",p=(p=c.length)>3?p%3:0;return s+(p?c.substr(0,p)+l:"")+c.substr(p).replace(/(\d{3})(?=\d)/g,"$1"+l)+(i?o+Math.abs(r-c).toFixed(i).slice(2):"")},init:function(){this.year=(new Date).getFullYear(),console.log("My.init"),this.bindEvents()}};