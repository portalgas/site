"use strict";var debug=!1;function sottrazione(e,o){var t=parseFloat(e)-parseFloat(o);return Math.round(100*t)/100}function actionTrView(e){$(e).css("display","block"),$(e).click(function(){var e=$(this).attr("action").split("-"),o=e[0],t=e[1],a="";if(a=null!=e[2]?t+"-"+e[2]:t,$(this).hasClass("openTrView")){if($("td[id^=tdViewId-]").html(""),$(".actionTrView").each(function(){$(this).removeClass("closeTrView"),$(this).addClass("openTrView")}),$(".trView").each(function(){$(this).css("display","none")}),$(this).removeClass("openTrView"),$(this).addClass("closeTrView"),"table-row"==$("#trViewId-"+a).css("display"))return $("#trViewId-"+a).css("display","none"),!1;$("#tdViewId-"+a).html(""),$("#trViewId-"+a).css("min-height","50px"),$("#trViewId-"+a).toggle("slow"),$("#tdViewId-"+a).css("background",'url("'+app_img+'/ajax-loader.gif") no-repeat scroll center 0 transparent');var i="";i=isBackoffice()?"/administrator/index.php?option=com_cake&controller=Ajax&action=view_"+o+"&id="+t+"&evidenzia=&format=notmpl":"/?option=com_cake&controller=Ajax&action=view_"+o+"&id="+t+"&evidenzia=&format=notmpl",$.ajax({type:"get",url:i,data:"",success:function(e){$("#tdViewId-"+a).css("background","none repeat scroll 0 0 transparent"),$("#tdViewId-"+a).html(e)},error:function(e,o,t){$("#tdViewId-"+a).css("background","none repeat scroll 0 0 transparent"),$("#tdViewId-"+a).html(o)}})}else $(this).addClass("openTrView"),$(this).removeClass("closeTrView"),$("#trViewId-"+a).toggle("fast"),$("#tdViewId-"+a).html("");return!1})}function actionTrConfig(e){$(e).css("display","block"),$(e).click(function(){var e=$(this).attr("action");if(debug&&console.log("idElementRow "+e),$(this).hasClass("openTrConfig")){if(debug&&console.log("hasClass openTrConfig"),$(".actionTrConfig").each(function(){$(this).removeClass("closeTrConfig"),$(this).addClass("openTrConfig")}),$(".trConfig").each(function(){$(this).css("display","none")}),$(this).removeClass("openTrConfig"),$(this).addClass("closeTrConfig"),"table-row"==$("#trConfigId-"+e).css("display"))return $("#trConfigId-"+e).css("display","none"),!1;$("#trConfigId-"+e).toggle("slow")}else debug&&console.log("hasClass closeTrConfig"),$(this).addClass("openTrConfig"),$(this).removeClass("closeTrConfig"),$("#trConfigId-"+e).toggle("fast");return!1})}function actionNotaView(e){$(e).css("display","block"),$(e).click(function(){var e=$(this).attr("id").split("-")[1],o=$("#actionTrView-"+e),t=$("#actionTrView-"+e).attr("action").split("-"),a=t[0],i=t[1],n="";if(n=null!=t[2]?i+"-"+t[2]:i,$(o).hasClass("openTrView")){if($(o).removeClass("openTrView"),$(o).addClass("closeTrView"),"table-row"==$("#trViewId-"+n).css("display"))return $("#trViewId-"+n).css("display","none"),!1;$(".trView").each(function(){$(this).css("display","none")}),$("#tdViewId-"+n).html(""),$("#trViewId-"+n).css("min-height","50px"),$("#trViewId-"+n).toggle("slow"),$("#tdViewId-"+n).css("background",'url("'+app_img+'/ajax-loader.gif") no-repeat scroll center 0 transparent');var s="";s=isBackoffice()?"/administrator/index.php?option=com_cake&controller=Ajax&action=view_"+a+"&id="+i+"&evidenzia=nota&format=notmpl":"/index.php?option=com_cake&controller=Ajax&action=view_"+a+"&id="+i+"&evidenzia=nota&format=notmpl",$.ajax({type:"get",url:s,data:"",success:function(e){$("#tdViewId-"+n).css("background","none repeat scroll 0 0 transparent"),$("#tdViewId-"+n).html(e)},error:function(e,o,t){$("#tdViewId-"+n).css("background","none repeat scroll 0 0 transparent"),$("#tdViewId-"+n).html(o)}})}else $(o).addClass("openTrView"),$(o).removeClass("closeTrView"),$("#trViewId-"+n).toggle("fast"),$("#tdViewId-"+n).html("");return!1})}function validateNumberField(e,o){var t=$(e).val();return t.length>0&&(!!isNumber(t=numberToJs(t))||(alert("Il campo "+o+" dev'essere indicato con un valore numerico"),$(e).val(""),$(e).focus(),!1))}function validateNumberPositiveField(e,o){var t=$(e).val();return t.length>0&&(isNumber(t=numberToJs(t))?!(t<0)||(alert("Il campo "+o+" NON puÃ² essere indicato con un valore negativo"),$(e).val(""),$(e).focus(),!1):(alert("Il campo "+o+" dev'essere indicato con un valore numerico"),$(e).val(""),$(e).focus(),!1))}function setNumberFormat(e){var o=$(e).val();o.length>0&&(o=numberToJs(o),$(e).val(number_format(o,2,",",".")))}function numberToJs(e){return void 0==e?"0.00":e=(e=e.replace(".","")).replace(",",".")}function isNumber(e){return!isNaN(parseFloat(e))&&isFinite(e)}function arrotondaNumero(e,o){return Math.round(e*Math.pow(10,o))/Math.pow(10,o)}function number_format(e,o,t,a){var i=e,n=isNaN(o=Math.abs(o))?2:o,s=void 0==t?".":t,r=void 0==a?",":a,l=i<0?"-":"",d=parseInt(i=Math.abs(+i||0).toFixed(n))+"",c=(c=d.length)>3?c%3:0;return l+(c?d.substr(0,c)+r:"")+d.substr(c).replace(/(\d{3})(?=\d)/g,"$1"+r)+(n?s+Math.abs(i-d).toFixed(n).slice(2):"")}function apriPopUpBootstrap(e,o){if(void 0!==e&&""!=e){var t="tmpModal",a="lg",i="";""!=o&&(""!=o.size&&(a=o.size),""!=o.header&&(i=o.header));var n="";n='<div class="modal fade" id="'+t+'" role="dialog">',n+='<div class="modal-dialog modal-'+a+'">',n+='<div class="modal-content">',n+='<div class="modal-header">',n+='<button type="button" class="close" data-dismiss="modal">&times;</button>',n+='<h4 class="modal-title">'+i+"</h4>",n+="</div>",n+='<div class="modal-body">',n+="</div>",n+='<div class="modal-footer">',n+='<button type="button" class="btn btn-sm btn-warning" data-dismiss="modal">Chiudi</button>',n+="</div>",n+="</div>",n+="</div>",n+="</div>",$(n).appendTo("div.cakeContainer"),$("#"+t).modal("show"),$("#"+t).on("shown.bs.modal",function(){$("#"+t).find(".modal-body").css("background",'url("'+app_img+'/ajax-loader.gif") no-repeat scroll center center transparent'),$.ajax({type:"GET",url:e,dataType:"html"}).fail(function(){}).done(function(e){$("#"+t).find(".modal-body").css("background","none repeat scroll 0 0 transparent"),$("#"+t).find(".modal-body").html(e)})}),$("#"+t).on("hide.bs.modal",function(){$("#"+t).find(".modal-header").html(""),$("#"+t).find(".modal-body").html(""),$("#"+t).detach()})}else console.log("error - url undefined!")}function apriPopUp(e){$("body").append('<div class="popupWrap"></div><div class="popup"></div>'),$(".popup").css("background",'url("'+app_img+'/ajax-loader.gif") no-repeat scroll center center transparent'),$(".popup").load(e,function(e,o,t){"success"==o&&$(".popup").css("background","none repeat scroll 0 0 #efefef"),$(".button-close").on("click",function(){$(".popupWrap").css("display","hide"),$(".popupWrap").animate({opacity:0},200,function(){$(".popupWrap").remove(),$(".popup").remove()})})})}function alert(e){$("#modalAlertWindow").remove();var o="";o='<div class="modal fade" id="modalAlertWindow" role="dialog">',o+='<div class="modal-dialog">',o+='<div class="modal-content">',o+='<div class="modal-header">',o+='<button type="button" class="close" data-dismiss="modal">&times;</button>',o+="</div>",o+='<div class="modal-body">',o+="<p>",o+=e,o+="</div>",o+='<div class="modal-footer">',o+='<button type="button" class="btn btn-warning" data-dismiss="modal">Chiudi</button>',o+="</div>",o+="</div>",$(o).appendTo("div.cakeContainer"),$("#modalAlertWindow").modal("show")}function getHost(){var e=window.location.href.split("/");return e[0]+"//"+e[2]}function isBackoffice(){var e=window.location.href.split("/");return null!=e[3]&&"administrator"==e[3]}function compare_date_today(e){if(void 0!=e&&e.indexOf("-")>0){var o=e.split("-"),t="",a="",i="";void 0!=o[0]?t=o[0]:!1,void 0!=o[1]?a=o[1]:!1,void 0!=o[2]?i=o[2]:!1;e=t+a+i}var n=new Date,s=""+n.getDate();1==s.length&&(s="0"+s);var r=""+(n.getMonth()+1);return 1==r.length&&(r="0"+r),compare_date(e,n=""+n.getFullYear()+r+s)}function compare_date(e,o){return e<o?"<":e==o?"=":">"}function validateEmail(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}function checkPatternChars(e,o,t,a){return void 0===a&&(a=!1),!a&&""==o||(!!t.test(o)||(alert("File"==e?"Il nome del file contiene caratteri strani!":"Il campo "+e+" non e' valido!"),!1))}