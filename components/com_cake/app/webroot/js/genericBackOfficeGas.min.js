function viewOrderSottoMenu(b,a){if(b==null){return}if(a==null){a="bgLeft"}if(jQuery("#order-sotto-menu-"+b).length==0){idSelector=".order-sotto-menu-unique"}else{idSelector="#order-sotto-menu-"+b}jQuery(idSelector).css("min-height","35px");jQuery(idSelector).css("background",'url("'+app_img+'/ajax-loader.gif") no-repeat scroll center 0 transparent');jQuery.ajax({type:"get",url:"/administrator/index.php?option=com_cake&controller=Orders&action=sotto_menu&order_id="+b+"&position_img="+a+"&format=notmpl",data:"",success:function(c){jQuery(idSelector).css("background","none repeat scroll 0 0 transparent");jQuery(idSelector).html(c)},error:function(c,e,d){jQuery(idSelector).css("background","none repeat scroll 0 0 transparent");jQuery(idSelector).html(e)}});return}function viewDesOrderSottoMenu(b,a){if(b==null){return}if(a==null){a="bgLeft"}if(jQuery("#des-order-sotto-menu-"+b).length==0){idSelector=".des-order-sotto-menu-unique"}else{idSelector="#des-order-sotto-menu-"+b}jQuery(idSelector).css("min-height","35px");jQuery(idSelector).css("background",'url("'+app_img+'/ajax-loader.gif") no-repeat scroll center 0 transparent');jQuery.ajax({type:"get",url:"/administrator/index.php?option=com_cake&controller=DesOrders&action=sotto_menu&des_order_id="+b+"&position_img="+a+"&format=notmpl",data:"",success:function(c){jQuery(idSelector).css("background","none repeat scroll 0 0 transparent");jQuery(idSelector).html(c)},error:function(c,e,d){jQuery(idSelector).css("background","none repeat scroll 0 0 transparent");jQuery(idSelector).html(e)}});return}function viewTesoriereSottoMenu(b,a){if(b==null){return}if(a==null){a="bgLeft"}idSelector=".order-sotto-menu-unique";jQuery(idSelector).css("min-height","35px");jQuery(idSelector).css("background",'url("'+app_img+'/ajax-loader.gif") no-repeat scroll center 0 transparent');jQuery.ajax({type:"get",url:"/administrator/index.php?option=com_cake&controller=Tesoriere&action=sotto_menu_tesoriere&delivery_id="+b+"&position_img="+a+"&format=notmpl",data:"",success:function(c){jQuery(idSelector).css("background","none repeat scroll 0 0 transparent");jQuery(idSelector).html(c)},error:function(c,e,d){jQuery(idSelector).css("background","none repeat scroll 0 0 transparent");jQuery(idSelector).html(e)}});return}function viewReferenteTesoriereSottoMenu(b,a){if(b==null){return}if(a==null){a="bgLeft"}idSelector=".order-sotto-menu-unique";jQuery(idSelector).css("min-height","35px");jQuery(idSelector).css("background",'url("'+app_img+'/ajax-loader.gif") no-repeat scroll center 0 transparent');jQuery.ajax({type:"get",url:"/administrator/index.php?option=com_cake&controller=Tesoriere&action=sotto_menu_referentetesoriere&delivery_id="+b+"&position_img="+a+"&format=notmpl",data:"",success:function(c){jQuery(idSelector).css("background","none repeat scroll 0 0 transparent");jQuery(idSelector).html(c)},error:function(c,e,d){jQuery(idSelector).css("background","none repeat scroll 0 0 transparent");jQuery(idSelector).html(e)}});return}function viewTesoriereRequestPaymentSottoMenu(b,c,a){if(b==null||c==null){return}if(a==null){a="bgLeft"}idSelector=".order-sotto-menu-unique";jQuery(idSelector).css("min-height","35px");jQuery(idSelector).css("background",'url("'+app_img+'/ajax-loader.gif") no-repeat scroll center 0 transparent');jQuery.ajax({type:"get",url:"/administrator/index.php?option=com_cake&controller=Tesoriere&action=sotto_menu_tesoriere_request_payment&delivery_id="+b+"&request_payment_id="+c+"&position_img="+a+"&format=notmpl",data:"",success:function(d){jQuery(idSelector).css("background","none repeat scroll 0 0 transparent");jQuery(idSelector).html(d)},error:function(d,f,e){jQuery(idSelector).css("background","none repeat scroll 0 0 transparent");jQuery(idSelector).html(f)}});return}function viewReferenteTesoriereRequestPaymentSottoMenu(b,c,a){if(b==null||c==null){return}if(a==null){a="bgLeft"}idSelector=".order-sotto-menu-unique";jQuery(idSelector).css("min-height","35px");jQuery(idSelector).css("background",'url("'+app_img+'/ajax-loader.gif") no-repeat scroll center 0 transparent');jQuery.ajax({type:"get",url:"/administrator/index.php?option=com_cake&controller=Tesoriere&action=sotto_menu_referentetesoriere_request_payment&delivery_id="+b+"&request_payment_id="+c+"&position_img="+a+"&format=notmpl",data:"",success:function(d){jQuery(idSelector).css("background","none repeat scroll 0 0 transparent");jQuery(idSelector).html(d)},error:function(d,f,e){jQuery(idSelector).css("background","none repeat scroll 0 0 transparent");jQuery(idSelector).html(f)}});return}function choiceDelivery(){var a=jQuery("#delivery_id").parent().parent().attr("id");delivery_id=jQuery("#delivery_id").val();if(debugLocal){alert("choiceDelivery - div_contenitore "+a+", delivery_id "+delivery_id)}if(delivery_id==""){showHideBox(a,call_child=false);return}showHideBox(a,call_child=true);AjaxCallToOrders(delivery_id)}function choiceOrder(){var a=jQuery("#order_id").parent().parent().attr("id");order_id=jQuery("#order_id").val();if(debugLocal){alert("choiceOrder - div_contenitore "+a+", order_id "+order_id)}if(order_id==""){showHideBox(a,call_child=false);return}showHideBox(a,call_child=true);AjaxCallToOrderDetails(order_id);viewOrderSottoMenu(order_id,"bgRight")}function choiceOrderDetails(){var a="order-details";order_id=jQuery("#order_id").val();if(debugLocal){alert("choiceOrderDetails - div_contenitore "+a+", order_id "+order_id)}showHideBox(a,call_child=true);AjaxCallToOrderPermission(order_id)}function choiceDeliveryHistory(){var a=jQuery("#delivery_id").parent().parent().attr("id");delivery_id=jQuery("#delivery_id").val();if(debugLocal){alert("choiceDelivery - div_contenitore "+a+", delivery_id "+delivery_id)}if(delivery_id==""){showHideBox(a,call_child=false);return}showHideBox(a,call_child=true);AjaxCallToOrdersHistory(delivery_id)}function choiceOrderHistory(){var a=jQuery("#order_id").parent().parent().attr("id");order_id=jQuery("#order_id").val();if(debugLocal){alert("choiceOrder - div_contenitore "+a+", order_id "+order_id)}if(order_id==""){showHideBox(a,call_child=false);return}showHideBox(a,call_child=true);AjaxCallToDocOptions()}function AjaxCallToOrdersHistory(c){if(c==0){return false}var b="/administrator/index.php?option=com_cake&controller=AjaxGasCodes&action=box_orders_history&delivery_id="+c+"&order_id="+order_id+"&format=notmpl";var a="orders-result";ajaxCallBox(b,a)}function AjaxCallToOrders(c){if(c==0){return false}var b="/administrator/index.php?option=com_cake&controller=AjaxGasCodes&action=box_orders&delivery_id="+c+"&order_id="+order_id+"&format=notmpl";var a="orders-result";ajaxCallBox(b,a)}function AjaxCallToOrderDetails(c){if(c==0){return false}var b="/administrator/index.php?option=com_cake&controller=AjaxGasCodes&action=box_order_details&order_id="+c+"&format=notmpl";var a="order-details";ajaxCallBox(b,a)}function AjaxCallToOrderPermission(d){if(d==0){return false}var c="";var b="/administrator/index.php?option=com_cake&controller=AjaxGasCodes&action=box_order_permission&order_id="+d+"&call_action="+c+"&format=notmpl";var a="order-permission";ajaxCallBox(b,a)}function referentDocsExportAnteprima(b){var a=jQuery("#delivery_id").val();var c=jQuery("#order_id").val();if(a==""||c==""||b==""){jQuery("#articles-result").css("background","none repeat scroll 0 0 transparent");jQuery("#articles-result").css("display","none");jQuery("#print-doc").css("background","none repeat scroll 0 0 transparent");jQuery("#print-doc").css("display","none");return}jQuery("#articles-result").css("display","block");jQuery("#articles-result").css("background",'url("'+app_img+'/ajax-loader.gif") no-repeat scroll center 0 transparent');jQuery.ajax({type:"get",url:"/administrator/index.php?option=com_cake&controller=ExportDocs&action=exportToReferent&delivery_id="+a+"&order_id="+c+"&doc_options="+b+"&doc_formato=PREVIEW&format=notmpl",data:"",success:function(d){jQuery("#articles-result").css("background","none repeat scroll 0 0 transparent");jQuery("#articles-result").html(d);jQuery("#print-doc").css("display","block")},error:function(d,f,e){jQuery("#articles-result").css("background","none repeat scroll 0 0 transparent");jQuery("#articles-result").html(f)}});return false}function tesoriereDocsExportAnteprima(a,c){var b=jQuery("#delivery_id").val();if(b==""||a==""||c==""){jQuery("#articles-result").css("background","none repeat scroll 0 0 transparent");jQuery("#articles-result").css("display","none");jQuery("#print-doc").css("background","none repeat scroll 0 0 transparent");jQuery("#print-doc").css("display","none");return}jQuery("#articles-result").css("display","block");jQuery("#articles-result").css("background",'url("'+app_img+'/ajax-loader.gif") no-repeat scroll center 0 transparent');jQuery.ajax({type:"get",url:"/administrator/index.php?option=com_cake&controller=ExportDocs&action=exportToTesoriere&delivery_id="+b+"&order_id_selected="+a+"&doc_options="+c+"&doc_formato=PREVIEW&format=notmpl",data:"",success:function(d){jQuery("#articles-result").css("background","none repeat scroll 0 0 transparent");jQuery("#articles-result").html(d);jQuery("#print-doc").css("display","block")},error:function(d,f,e){jQuery("#articles-result").css("background","none repeat scroll 0 0 transparent");jQuery("#articles-result").html(f)}});return false}function activeSubmitEcomm(a){jQuery(a).find(".submitEcomm").click(function(){var g=jQuery(this).attr("id");var d=g.substring(g.indexOf("-")+1,g.lenght);jQuery(".trView").hide();jQuery(".actionTrView").removeClass("closeTrView");jQuery(".actionTrView").addClass("openTrView");jQuery("#submitEcomm-"+d).attr("src",app_img+"/ajax-loader.gif");var f=jQuery("#order_id-"+d).val();var c=jQuery("#article_organization_id-"+d).val();var h=jQuery("#article_id-"+d).val();var k=jQuery("#qta-"+d).html();if(!ecommRowsValidation(d,backOffice=true)){return false}var j="";var i="";var e=jQuery("input[name='report-options']:checked").val();if(e=="report-users-cart"||e=="report-users-all"){j=jQuery("#user_id").val();if(j=="ALL"){j=jQuery("#user_id-"+d).val();i="ALL"}}else{if(e=="report-articles-details"){j=jQuery("#user_id-"+d).val()}}if(j==""||j==0){alert("Utente non selezionato!");return false}var b="";b="/administrator/index.php?option=com_cake&controller=AjaxGasCarts&action=managementCart&row_id="+d+"&order_id="+f+"&article_organization_id="+c+"&article_id="+h+"&user_id="+j+"&qta="+k+"&reportOptions="+e+"&reportOptionsSub="+i+"&format=notmpl";jQuery.ajax({type:"GET",url:b,data:"",success:function(l){jQuery("#row-"+d).html(l)},error:function(l,n,m){jQuery("#msgEcomm-"+d).html(n);jQuery("#submitEcomm-"+d).attr("src",app_img+"/blank32x32.png")}});return false})}function activeImportoForzato(a){jQuery(a).find(".importo_forzato").change(function(){var e=jQuery(this).attr("id");var g=e.substring(e.indexOf("-")+1,e.lenght);var h=jQuery("#importo_forzato-"+g).val();if(!validateNumberPositiveField("#importo_forzato-"+g,"Importo forzato")){return false}h=numberToJs(h);h=number_format(h,2,",",".");jQuery("#importo_forzato-"+g).val(h);h=jQuery("#importo_forzato-"+g).val();var i=jQuery("#order_id-"+g).val();var f=jQuery("#article_organization_id-"+g).val();var c=jQuery("#article_id-"+g).val();var b=jQuery("#user_id-"+g).val();if(b==0){alert("L'utente non ha ancora acquistato l'articolo");jQuery("#importo_forzato-"+g).val("0,00");return false}var d=i+"_"+f+"_"+c+"_"+b;jQuery.ajax({type:"GET",url:"/administrator/index.php?option=com_cake&controller=AjaxGasCodes&action=setImportoForzato&row_id="+g+"&key="+d+"&importo_forzato="+h+"&format=notmpl",data:"",success:function(j){jQuery("#msgEcomm-"+g).html(j)},error:function(j,l,k){jQuery("#msgEcomm-"+g).html(l);jQuery("#submitEcomm-"+g).attr("src",app_img+"/blank32x32.png")}});return false})}function activeNotaEcomm(a){jQuery(a).find(".notaEcomm").click(function(){var b=jQuery(this).parent().attr("id");var c=b.substring(b.indexOf("-")+1,b.lenght);jQuery("#dialogmodal").data("numRow",c);jQuery("#dialogmodal").dialog("open");return false})};