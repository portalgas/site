"use strict";function sottrazione(e,o){var t=0,a=parseFloat(e)-parseFloat(o);return t=Math.round(100*a)/100}function actionTrView(e){$(e).css("display","block"),$(e).click(function(){var e=$(this).attr("action"),o=e.split("-"),t=o[0],a=o[1],n="";if(n=null!=o[2]?a+"-"+o[2]:a,$(this).hasClass("openTrView")){if($("td[id^=tdViewId-]").html(""),$(".actionTrView").each(function(){$(this).removeClass("closeTrView"),$(this).addClass("openTrView")}),$(".trView").each(function(){$(this).css("display","none")}),$(this).removeClass("openTrView"),$(this).addClass("closeTrView"),"table-row"==$("#trViewId-"+n).css("display"))return $("#trViewId-"+n).css("display","none"),!1;$("#tdViewId-"+n).html(""),$("#trViewId-"+n).css("min-height","50px"),$("#trViewId-"+n).toggle("slow"),$("#tdViewId-"+n).css("background",'url("'+app_img+'/ajax-loader.gif") no-repeat scroll center 0 transparent');var i="";i=isBackoffice()?"/administrator/index.php?option=com_cake&controller=Ajax&action=view_"+t+"&id="+a+"&evidenzia=&format=notmpl":"/?option=com_cake&controller=Ajax&action=view_"+t+"&id="+a+"&evidenzia=&format=notmpl",$.ajax({type:"get",url:i,data:"",success:function(e){$("#tdViewId-"+n).css("background","none repeat scroll 0 0 transparent"),$("#tdViewId-"+n).html(e)},error:function(e,o,t){$("#tdViewId-"+n).css("background","none repeat scroll 0 0 transparent"),$("#tdViewId-"+n).html(o)}})}else $(this).addClass("openTrView"),$(this).removeClass("closeTrView"),$("#trViewId-"+n).toggle("fast"),$("#tdViewId-"+n).html("");return!1})}function actionTrConfig(e){$(e).css("display","block"),$(e).click(function(){var e=$(this).attr("action");if(debug&&console.log("idElementRow "+e),$(this).hasClass("openTrConfig")){if(debug&&console.log("hasClass openTrConfig"),$(".actionTrConfig").each(function(){$(this).removeClass("closeTrConfig"),$(this).addClass("openTrConfig")}),$(".trConfig").each(function(){$(this).css("display","none")}),$(this).removeClass("openTrConfig"),$(this).addClass("closeTrConfig"),"table-row"==$("#trConfigId-"+e).css("display"))return $("#trConfigId-"+e).css("display","none"),!1;$("#trConfigId-"+e).toggle("slow")}else debug&&console.log("hasClass closeTrConfig"),$(this).addClass("openTrConfig"),$(this).removeClass("closeTrConfig"),$("#trConfigId-"+e).toggle("fast");return!1})}function actionNotaView(e){$(e).css("display","block"),$(e).click(function(){var e=$(this).attr("id"),o=e.split("-"),t=o[1],a=$("#actionTrView-"+t),n=$("#actionTrView-"+t).attr("action"),i=n.split("-"),r=i[0],s=i[1],l="";if(l=null!=i[2]?s+"-"+i[2]:s,$(a).hasClass("openTrView")){if($(a).removeClass("openTrView"),$(a).addClass("closeTrView"),"table-row"==$("#trViewId-"+l).css("display"))return $("#trViewId-"+l).css("display","none"),!1;$(".trView").each(function(){$(this).css("display","none")}),$("#tdViewId-"+l).html(""),$("#trViewId-"+l).css("min-height","50px"),$("#trViewId-"+l).toggle("slow"),$("#tdViewId-"+l).css("background",'url("'+app_img+'/ajax-loader.gif") no-repeat scroll center 0 transparent');var d="";d=isBackoffice()?"/administrator/index.php?option=com_cake&controller=Ajax&action=view_"+r+"&id="+s+"&evidenzia=nota&format=notmpl":"/index.php?option=com_cake&controller=Ajax&action=view_"+r+"&id="+s+"&evidenzia=nota&format=notmpl",$.ajax({type:"get",url:d,data:"",success:function(e){$("#tdViewId-"+l).css("background","none repeat scroll 0 0 transparent"),$("#tdViewId-"+l).html(e)},error:function(e,o,t){$("#tdViewId-"+l).css("background","none repeat scroll 0 0 transparent"),$("#tdViewId-"+l).html(o)}})}else $(a).addClass("openTrView"),$(a).removeClass("closeTrView"),$("#trViewId-"+l).toggle("fast"),$("#tdViewId-"+l).html("");return!1})}function validateNumberField(e,o){var t=$(e).val();return t.length>0?(t=numberToJs(t),isNumber(t)?!0:(alert("Il campo "+o+" dev'essere indicato con un valore numerico"),$(e).val(""),$(e).focus(),!1)):!1}function validateNumberPositiveField(e,o){var t=$(e).val();return t.length>0?(t=numberToJs(t),isNumber(t)?0>t?(alert("Il campo "+o+" NON puÃ² essere indicato con un valore negativo"),$(e).val(""),$(e).focus(),!1):!0:(alert("Il campo "+o+" dev'essere indicato con un valore numerico"),$(e).val(""),$(e).focus(),!1)):!1}function setNumberFormat(e){var o=$(e).val();o.length>0&&(o=numberToJs(o),$(e).val(number_format(o,2,",",".")))}function numberToJs(e){return void 0==e?"0.00":(e=e.replace(".",""),e=e.replace(",","."))}function isNumber(e){return!isNaN(parseFloat(e))&&isFinite(e)}function arrotondaNumero(e,o){var t=Math.round(e*Math.pow(10,o))/Math.pow(10,o);return t}function number_format(e,o,t,a){var n=e,i=isNaN(o=Math.abs(o))?2:o,r=void 0==t?".":t,s=void 0==a?",":a,l=0>n?"-":"",d=parseInt(n=Math.abs(+n||0).toFixed(i))+"",c=(c=d.length)>3?c%3:0;return l+(c?d.substr(0,c)+s:"")+d.substr(c).replace(/(\d{3})(?=\d)/g,"$1"+s)+(i?r+Math.abs(n-d).toFixed(i).slice(2):"")}function apriPopUpBootstrap(e,o){if("undefined"==typeof e||""==e)return void console.log("error - url undefined!");var t="tmpModal",a="lg",n="";""!=o&&(""!=o.size&&(a=o.size),""!=o.header&&(n=o.header));var i="";i='<div class="modal fade" id="'+t+'" role="dialog">',i+='<div class="modal-dialog modal-'+a+'">',i+='<div class="modal-content">',i+='<div class="modal-header">',i+='<button type="button" class="close" data-dismiss="modal">&times;</button>',i+='<h4 class="modal-title">'+n+"</h4>",i+="</div>",i+='<div class="modal-body">',i+="</div>",i+='<div class="modal-footer">',i+='<button type="button" class="btn btn-sm btn-warning" data-dismiss="modal">Chiudi</button>',i+="</div>",i+="</div>",i+="</div>",i+="</div>",$(i).appendTo("div.cakeContainer"),$("#"+t).modal("show"),$("#"+t).on("shown.bs.modal",function(){$("#"+t).find(".modal-body").css("background",'url("'+app_img+'/ajax-loader.gif") no-repeat scroll center center transparent'),$.ajax({type:"GET",url:e,dataType:"html"}).fail(function(){}).done(function(e){$("#"+t).find(".modal-body").css("background","none repeat scroll 0 0 transparent"),$("#"+t).find(".modal-body").html(e)})}),$("#"+t).on("hide.bs.modal",function(){$("#"+t).find(".modal-header").html(""),$("#"+t).find(".modal-body").html(""),$("#"+t).detach()})}function apriPopUp(e){$("body").append('<div class="popupWrap"></div><div class="popup"></div>'),$(".popup").css("background",'url("'+app_img+'/ajax-loader.gif") no-repeat scroll center center transparent'),$(".popup").load(e,function(e,o,t){"success"==o&&$(".popup").css("background","none repeat scroll 0 0 #efefef"),$(".button-close").on("click",function(){var e=function(){$(".popupWrap").remove(),$(".popup").remove()};$(".popupWrap").css("display","hide"),$(".popupWrap").animate({opacity:0},200,e)})})}function getHost(){var e=window.location.href,o=e.split("/"),t=o[0]+"//"+o[2];return t}function isBackoffice(){var e=window.location.href,o=e.split("/");return null!=o[3]&&"administrator"==o[3]?!0:!1}function compare_date_today(e){if(void 0!=e&&e.indexOf("-")>0){var o=!0,t=e.split("-"),a="",n="",i="";void 0!=t[0]?a=t[0]:o=!1,void 0!=t[1]?n=t[1]:o=!1,void 0!=t[2]?i=t[2]:o=!1;var e=a+n+i}var r=new Date,s=""+r.getDate();1==s.length&&(s="0"+s);var l=""+(r.getMonth()+1);1==l.length&&(l="0"+l);var d=""+r.getFullYear();return r=d+l+s,compare_date(e,r)}function compare_date(e,o){return o>e?"<":e==o?"=":">"}function validateEmail(e){var o=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return o.test(e)}function checkPatternChars(e,o,t,a){return void 0===a&&(a=!1),a||""!=o?t.test(o)?!0:("File"==e?alert("Il nome del file contiene caratteri strani!"):alert("Il campo "+e+" non e' valido!"),!1):!0}var debug=!1;