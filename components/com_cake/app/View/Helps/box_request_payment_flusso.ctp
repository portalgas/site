<h1>Richieste di pagamento: flusso (cancellazione Carrello / dati archiviati in Statistiche)</h1><table>	<tr>		<th>Fase</th>		<th colspan="2">Stato</th>		<th colspan="2">Note</th>		<?php 		if($isRoot) 			echo '<th>Codice</th>';		?>	</tr>	<tr>		<td>Nuova richiesta</td>		<td><?php echo strtolower('WAIT'); ?></td>		<td title="<?php echo $this->App->traslateEnum('REQUEST_PAYMENT_STATO_ELABORAZIONE_WAIT');?>" class="stato_<?php echo strtolower('WAIT'); ?>"></td>		<td colspan="2"></td>		<?php 		if($isRoot) 			echo '<td>RequestPayments::admin_add()<br />RequestPayments::admin_edit()</td>';		?>	</tr>	<tr>		<td>Richiesta editabile</td>		<td><?php echo strtolower('WAIT'); ?></td>		<td title="<?php echo $this->App->traslateEnum('REQUEST_PAYMENT_STATO_ELABORAZIONE_WAIT');?>" class="stato_<?php echo strtolower('WAIT'); ?>"></td>		<td>Associo <b>ordine</b></td>		<td>l'ordine passa dallo stato da "<span style="color:green;">da pagare</span>" a "<span style="color:red;">chiuso</span>"</td> 		<?php 		if($isRoot) 			echo '<td>RequestPayments::admin_add_orders()</td>';		?>	</tr>	<tr>		<td>Richiesta editabile</td>		<td><?php echo strtolower('WAIT'); ?></td>		<td title="<?php echo $this->App->traslateEnum('REQUEST_PAYMENT_STATO_ELABORAZIONE_WAIT');?>" class="stato_<?php echo strtolower('WAIT'); ?>"></td>		<td>Associo <b>dispensa</b></td>		<td><?php echo __('UpgradeStateDelivery');?></td>		<?php 		if($isRoot) 			echo '<td>RequestPayments::admin_add_storeroom()</td>';		?>	</tr>	<tr>		<td>Richiesta editabile</td>		<td><?php echo strtolower('WAIT'); ?></td>		<td title="<?php echo $this->App->traslateEnum('REQUEST_PAYMENT_STATO_ELABORAZIONE_WAIT');?>" class="stato_<?php echo strtolower('WAIT'); ?>"></td>		<td>Associo <b>voce generica</b></td>		<td></td>		<?php 		if($isRoot) 			echo '<td>RequestPayments::admin_add_generic()</td>';		?>	</tr>	<tr>		<td>Richiesta aperta</td>		<td><?php echo strtolower('OPEN'); ?></td>		<td title="<?php echo $this->App->traslateEnum('REQUEST_PAYMENT_STATO_ELABORAZIONE_OPEN');?>" class="stato_<?php echo strtolower('OPEN'); ?>"></td>		<td colspan="2">Possibilità di inviata la mail agli utenti interessati</td>		<?php 		if($isRoot) 			echo '<td>RequestPayments::admin_edit_stato_elaborazione_to_open_from_wait()</td>';		?>	</tr>		<tr>		<td>Richiesta editabile</td>		<td><?php echo strtolower('OPEN'); ?></td>		<td title="<?php echo $this->App->traslateEnum('REQUEST_PAYMENT_STATO_ELABORAZIONE_OPEN');?>" class="stato_<?php echo strtolower('OPEN'); ?>"></td>		<td colspan="2">			Per ogni utente setto			<ul>				<li>Stato					<ul>						<li>- Da pagare</li>						<li>- Sollecito 1</li>						<li>- Sollecito 2</li>						<li>- Pagato</li>						<li>- Sospeso</li>					</ul>				</li>				<li>Modaltà					<ul>						<li>- Contanti</li>						<li>- Bancomat</li>						<li>- Bonifico</li>					</ul>				</li>			</ul>		</td>		<?php 		if($isRoot) 			echo '<td></td>';		?>	</tr>		<tr>		<td>Richiesta chiusa</td>		<td><?php echo strtolower('CLOSE'); ?></td>		<td title="<?php echo $this->App->traslateEnum('REQUEST_PAYMENT_STATO_ELABORAZIONE_CLOSE');?>" class="stato_<?php echo strtolower('CLOSE'); ?>"></td>		<td colspan="2">			<ul>				<li>- Tesoriere cambia lo stato</li>				<li>- Se tutti gli utenti hanno lo stato a Sospeso o Pagato in automatico cambia lo stato: Cron::requestPaymentStatoElaborazione()</li>			</ul>		</td>		<?php 		if($isRoot) 			echo '<td>'.Configure::read('DB.prefix').'summary_payments.modalita<br />'.Configure::read('DB.prefix').'summary_payments.stato</td>';		?>	</tr>	<tr>		<td>Richiesta chiusa</td>		<td><?php echo strtolower('CLOSE'); ?></td>		<td title="<?php echo $this->App->traslateEnum('REQUEST_PAYMENT_STATO_ELABORAZIONE_CLOSE');?>" class="stato_<?php echo strtolower('CLOSE'); ?>"></td>						<?php 		if($isRoot) {		?>		<td colspan="3">Cron::requestPaymentDelete() prende tutte le richieste chiuse con <b>stato_elaborazione_date</b> <= di <?php echo Configure::read('GGArchiveStatics');?> giorni, 					<table>				<tr>					<th>Tipologia</th>					<th>Delete</th>					<th>Copy Statistics</th>				</tr>				<tr>					<td>RequestOrders</td>					<td>						<ul>							<li>- <?php echo Configure::read('DB.prefix');?>orders.id -> trigger:								<ul>									<li>- <?php echo Configure::read('DB.prefix');?>articles_orders.order_id -> trigger:										<ul>											<li>- <?php echo Configure::read('DB.prefix');?>carts.order_id</li>											<li>- <?php echo Configure::read('DB.prefix');?>carts.article_id</li>											<li>- <?php echo Configure::read('DB.prefix');?>carts.user_id</li>										</ul>									</li>									<li>- <?php echo Configure::read('DB.prefix');?>summary_orders.order_id</li>									<li>- <?php echo Configure::read('DB.prefix');?>request_payments_orders.order_id</li>								</ul>							</li>							</ul>										</td>					<td>						Inserisce sempre						<ul>							<li>- <?php echo Configure::read('DB.prefix');?>stat_orders</li>							<li>- <?php echo Configure::read('DB.prefix');?>stat_articles_orders</li>							<li>- <?php echo Configure::read('DB.prefix');?>stat_carts</li>						</ul>											Controlla esistenza 						<ul>							<li>- <?php echo Configure::read('DB.prefix');?>stat_deliveries</li>							<li>- <?php echo Configure::read('DB.prefix');?>stat_suppliers_organizations</li>							<li>- <?php echo Configure::read('DB.prefix');?>stat_articles</li>													</ul>																</td>				</tr>				<tr>					<td>RequestStoreroom</td>					<td><?php echo Configure::read('DB.prefix');?>storerooms.delivery_id</td>					<td></td>				</tr>				<tr>					<td>RequestGenerics</td>					<td></td>					<td></td>				</tr>				<tr>					<td></td>					<td>						<ul>							<li>- <?php echo Configure::read('DB.prefix');?>delivery.id -> trigger:								<ul>									<li>- <?php echo Configure::read('DB.prefix');?>orders.delivery_id</li>									<li>- <?php echo Configure::read('DB.prefix');?>summary_orders.delivery_id</li>									<li>- <?php echo Configure::read('DB.prefix');?>storerooms.delivery_id</li>									<li>- <?php echo Configure::read('DB.prefix');?>request_payments_orders.delivery_id</li>								</ul>							</li>							</ul>					</td>					<td></td>				</tr>			</table>								</td>		<?php 		} // end if($isRoot)		else			echo '<td colspan="2">Cron::requestPaymentDelete() prende tutte le richieste chiuse</td>';		?>	</tr></table>	