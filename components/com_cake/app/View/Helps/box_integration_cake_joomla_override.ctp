<table>	<tr>		<th>Categoria</th>		<th>Nome</th>		<th>File</th>		<th>Note</th>		<th>Codice</th>	</tr>	<tr>		<td>Componente</td>		<td>com_users</td>		<td>			/administrator/components/com_users/models/users.php				</td>		<td>			gestione degli utenti filtrati per organization_id<br />			implementata e non + utilizzata: join user + user_profiles.profile.organization_id		</td>		<td>			<pre class="shell">protected function getListQuery() {	...				$userJoomla =& JFactory::getUser();	$query->where('a.organization_id = '.(int) $userJoomla->organization['Organization']['id']);	...}</pre>					</td>	</tr>	<tr>		<td>Componente</td>		<td>com_media</td>		<td>			/administrator/components/com_media/media.php <br /> <br />			/administrator/components/com_media/views/images/tmpl/default.php					</td>		<td>ridefinisco il path in base all'amministratore</td>		<td>			<pre class="shell">$acl_path = '';$userJoomla =& JFactory::getUser();$organization_id = $userJoomla->organization_id;if($organization_id==1) 	$acl_path ='/organizations/cavagnetta';elseif($organization_id==2) 	$acl_path ='/organizations/avigliana';</pre>							</td>	</tr>	<tr>		<td>Componente</td>		<td>com_login</td>		<td>			/administrator/components/com_login/models/login.php					</td>		<td>dopo la login setta la landing page del gas</td>		<td>			<pre class="shell">$return = 'index.php?option=com_cake&controller=Pages&action=home'; </pre>							</td>	</tr>		<tr>		<td>Componente</td>		<td>com_admin</td>		<td>			/administrator/components/com_admin/controllers/profile.php				</td>		<td>da /administrator/index.php?option=com_admin&task=profile.edit&id=... <br />			dopo aver salvato il profile dell'utente setto la landing page del gas</td>		<td>			<pre class="shell">$this->setRedirect(JRoute::_('index.php?option=com_cake&controller=Pages&action=home', false));</pre>							</td>	</tr>		<tr>		<td>Modulo</td>		<td>mod_quickicon</td>		<td>			/administrator/modules/mod_quickicon/helper.php					</td>		<td>aggiunti a link del GAS, <span style="color:red;">sono da profilare</span></td>		<td></td>	</tr>	<tr>		<td>Modulo</td>		<td>mod_menu</td>		<td>			/administrator/modules/mod_menu/tmpl/default.php		</td>		<td>gestione in amministrazione del menu</td>		<td><pre class="shell">$componentIsComCake = false;$args = split('&',  $_SERVER['QUERY_STRING']);foreach($args as $arg) {	list($key, $value) = explode('=', $arg);		if(isset($key) && $key == 'option') {		if(isset($value) && $value == 'com_cake') {			$componentIsComCake = true;			break;		}	}	}if($componentIsComCake)	require JModuleHelper::getLayoutPath('mod_menu', 'default_enabled_com_cake');else	require JModuleHelper::getLayoutPath('mod_menu', $enabled ? 'default_enabled' : 'default_disabled');</pre>				</td>	</tr>	<tr>		<td>Modulo</td>		<td>mod_status</td>		<td>			/administrator/modules/mod_status/tmpl/default.php		</td>		<td>gestione in amministrazione nome organizzazione dello user nell'header</td>		<td><pre class="shell">$userJoomla = JFactory::getUser();if(isset($userJoomla->organization['Organization']['id'])) {	switch ($userJoomla->organization['Organization']['id']) {		case 0:			$organization_name = 'Gas da scegliere!';		break;		case 1:			$organization_name = 'La Cavagnetta';		break;		case 2:			$organization_name = 'Avigliana';		break;		default:			$organization_name = 'mod_status error!';				break;	}}else	$organization_name = 'Gas da scegliere!';$output[] = '<span class="organizationHeader">'.$organization_name.'</span>';</pre>				</td>	</tr>	<tr>		<td>Libraries</td>		<td>user</td>		<td>			/libraries/joomla/user/user.php		</td>		<td>			aggiunto nell'oggetto User il campo organization_id<br />			imposto al nuovo/modificato user l'organization_id dell'amministratore<br />			implementata e non + utilizzata __user_profiles.organization_id		</td>		<td>		<pre class="shell">public $organization = [];public $ACLsuppliersIdsOrganization = "";...$organization = $my->organization;$table->organization_id = $organization['Organization']['id'];...$arrUserProperties = $table->getProperties();$arrUserProperties['organization'] = [];$arrUserProperties['ACLsuppliersIdsOrganization'] = "";$this->_params->loadString($table->params);// $this->setProperties($table->getProperties());$this->setProperties($arrUserProperties);</pre>					</td>	</tr>		<tr>		<td>Libraries</td>		<td>			/libraries/joomla/methods.php		</td>		<td>Url SEO</td>		<td>			per la gestione degli url SEO per rimapparli in base all'organizationSEO dal <b>template</b><br />			/produttori/31-pesce diventa <br />			/home-{organizationSEO}/produttori/31-pesce				<p style="color:red;">Da escludere com_users, com_contact</p>							</td>		<td>		<pre class="shell">$tmplParams = $app->getTemplate(true)->params;$organizationSEO = $tmplParams->get('organizationSEO');  // ottengo organizationSEO come parametro del template// echo '<br />'.$organizationSEO.' '.$url;if($organizationSEO!=null && $organizationSEO!='portale' && $url!='/') {	if(strpos($url, '/home-'.$organizationSEO.'/')===false)		$url = str_replace('/','/home-'.$organizationSEO.'/',$url);}</pre>					</td>	</tr>			<tr>		<td>Libraries</td>		<td>application</td>		<td>			/libraries/joomla/application/component/controller.php 		</td>		<td>gestita in getView() la scadenza della sessione per le chiamata Ajax perche' se la sessione era scaduta, le chiamate Ajax (http://localhost/administrator/index.php?option=com_cake&controller=Ajax&action=box_doc_print_referente&format=notmpl) 			 * visualizzavano 500 - Si e' verificato un errore. View non trovato [name, type, prefix]: login, notmpl, loginView </td>		<td>			<pre class="shell">...if($name=='login' && $type=='notmpl') {	die("Sessione scaduta, devi effettuare la login.");}...</pre>						</td>	</tr>	<tr>		<td>Plugin</td>		<td>application</td>		<td>			/plugins/user/profile/profiles/profile.xml		</td>		<td>aggiunto il campo hasArticlesOrder (Y  N)</td>		<td><pre class="shell">&lt;field	name="hasArticlesOrder"	type="list"	description="Gestisci gli articoli associati all'ordine"	label="Gestisci gli articoli associati all'ordine"&gt;	&lt;option value="Y"&gt;Si&lt;/option&gt;	&lt;option value="N"&gt;No&lt;/option&gt;&lt;/field&gt;							&lt;field	name="codice"	type="text"	id="codice"	description="Codice"	filter="string"	label="Codice"	message="Codice"	size="10"/&gt;</pre>		</td>	</tr>		<tr>		<td>Templates</td>		<td>mod_menu</td>		<td>			/administrator/templates/bluestork/html/mod_menu/default_disabled.php <br /> <br />			/administrator/templates/bluestork/html/mod_menu/default_enabled.php		</td>		<td></td>		<td></td>	</tr>	<tr>		<td>Templates</td>		<td>bluestork</td>		<td>			/administrator/templates/bluestork/index.php		</td>		<td>include .css .js</td>		<td></td>	</tr>	<tr>		<td>Templates</td>		<td>beez_20</td>		<td>			/templates/beez_20/index.php <br /> <br />			/templates/beez_20/templateDetails.xml		</td>		<td>include .css .js</td>		<td>		<pre class="shell">&lt;field name="organizationId" type="list" default="0"	label="Organizzazione Associata"	description="Organizzazione Associata al templates"	filter="integer"&gt;	&lt;option value="0"&gt;portale&lt;/option&gt;	&lt;option value="1"&gt;cavagnetta (id 1)&lt;/option&gt;	&lt;option value="2"&gt;avigliana (id 2)&lt;/option&gt;&lt;/field&gt;&lt;field name="organizationSEO" type="list" default="0"	label="Codice SEO per Organizzazione"	description="Codice SEO per Organizzazione Associata al templates"	filter="string"&gt;	&lt;option value="portale"&gt;portale&lt;/option&gt;	&lt;option value="cavagnetta"&gt;cavagnetta&lt;/option&gt;	&lt;option value="avigliana"&gt;avigliana&lt;/option&gt;&lt;/field&gt;</pre>				</td>	</tr></table>